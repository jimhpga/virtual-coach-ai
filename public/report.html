<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Swing Report | Virtual Coach AI</title>
  <link rel="icon" href="/favicon.ico"/>
  <style>
    :root{
      --bg:#05180f;
      --card:rgba(0,0,0,.45);
      --stroke:rgba(255,255,255,.12);
      --text:#f3f6f4; --muted:#cbd5ce;
      --accent:#1f6f3e; --accent-2:#2b8c53; --warn:#b08900;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text); background:var(--bg);
      font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background-image: radial-gradient(1200px 600px at 10% -20%, rgba(255,255,255,.05), transparent 60%),
                       radial-gradient(1200px 600px at 110% -20%, rgba(255,255,255,.05), transparent 60%);
    }
    .wrap{max-width:1100px;margin:28px auto;padding:0 16px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .card{
      background:var(--card); border:1px solid var(--stroke); border-radius:14px;
      box-shadow:0 12px 32px rgba(0,0,0,.35); backdrop-filter:blur(4px);
      padding:16px 18px; margin-bottom:12px;
    }
    .title{display:flex;justify-content:space-between;gap:12px;align-items:baseline;margin:0 0 8px}
    h1{font-size:20px;margin:0}
    .muted{color:var(--muted)}
    select,input[type="text"],button{
      border:1px solid rgba(255,255,255,.18); border-radius:10px; padding:8px 10px;
      color:var(--text); background:rgba(255,255,255,.06); outline:none;
    }
    button.btn{background:var(--accent);color:#fff;cursor:pointer}
    button.btn:hover{filter:brightness(1.05)}
    button.ghost{background:transparent}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    @media (max-width:920px){ .grid{grid-template-columns:1fr} }
    .section h3{margin:0 0 6px;font-size:16px}
    .badge{
      display:inline-flex;align-items:center;gap:6px;border:1px solid var(--stroke);
      border-radius:999px;padding:6px 10px;margin:4px 6px 0 0;background:rgba(255,255,255,.06)
    }
    .progress{height:10px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden}
    .bar{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
    .pending{padding:12px;border:1px dashed var(--stroke);border-radius:12px}
    .pill{border:1px solid var(--stroke);border-radius:999px;padding:6px 10px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">
      <h1>Virtual Coach AI â€” Swing Report</h1>
      <div class="row">
        <a class="pill" href="/upload.html">Upload another</a>
        <a class="pill" id="share" href="#">Copy share link</a>
      </div>
    </div>

    <div id="meta" class="muted" style="margin-bottom:10px;"></div>

    <div class="card">
      <div class="row" style="gap:12px;align-items:center;">
        <div>
          <label class="muted" for="teacher">Teacher voice</label><br/>
          <select id="teacher">
            <option value="nice">Nice &amp; encouraging</option>
            <option value="oldschool">Old-school coach</option>
            <option value="supportive">Calm &amp; supportive</option>
          </select>
        </div>
        <div>
          <label class="muted" for="baseline">Baseline compare</label><br/>
          <select id="baseline"></select>
        </div>
        <div class="row">
          <button id="setBaseline" class="btn">Set current as baseline</button>
          <button id="clearBaseline" class="ghost">Clear baseline</button>
        </div>
      </div>
    </div>

    <div id="pending" class="card pending" style="display:none"></div>

    <div id="report" style="display:none">
      <div class="grid">
        <div class="card section" id="summary">
          <h3>Power Score &amp; Consistency</h3>
          <div class="row" style="gap:20px">
            <div style="min-width:220px">
              <div class="muted small">Power Score</div>
              <div class="progress" title="Power Score">
                <div class="bar" id="pwrBar" style="width:0%"></div>
              </div>
              <div class="mono" id="pwrLbl">â€”</div>
            </div>
            <div style="min-width:220px">
              <div class="muted small">Consistency</div>
              <div class="progress" title="Consistency">
                <div class="bar" id="consBar" style="width:0%"></div>
              </div>
              <div class="mono" id="consLbl">â€”</div>
            </div>
          </div>

          <div id="deltas" style="margin-top:10px"></div>
        </div>

        <div class="card section" id="top3">
          <h3>Top 3 Fundamentals</h3>
          <ol id="funds"></ol>
        </div>

        <div class="card section" id="errors">
          <h3>Top 3 Power Errors</h3>
          <ol id="errs"></ol>
        </div>

        <div class="card section" id="quickfix">
          <h3>Top 3 Quick Fixes</h3>
          <ol id="fixes"></ol>
        </div>

        <div class="card section" id="expect">
          <h3>What to Expect After a Change</h3>
          <ul id="exp"></ul>
          <div class="muted small">These short-term outcomes are normal as your body adopts new patterns.</div>
        </div>

        <div class="card section" id="drills">
          <h3>Drills</h3>
          <ul id="drillList"></ul>
        </div>

        <div class="card section" id="badges">
          <h3>Badges</h3>
          <div id="badgeRow"></div>
        </div>

        <div class="card section" id="coach">
          <h3>Your Coach Says</h3>
          <div id="coachCopy"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- All logic in external script to avoid inline multi-line strings -->
  <script src="/report.client.js?v=6" defer></script>
</body>
</html>
