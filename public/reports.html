<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Reports • Virtual Coach AI</title>
<link rel="preload" as="image" href="/homepage-background.png" />
<style>
  :root{--nav:#0c2a18;--panel:rgba(13,23,28,.28);--line:rgba(255,255,255,.1);--text:#ecf3f7;--muted:#cfe0e6;--shadow:0 8px 28px rgba(0,0,0,.22);--radius:16px}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;color:var(--text);font:16px/1.45 system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial;background:url('/homepage-background.png') center/cover fixed no-repeat}
  header{position:sticky;top:0;z-index:20;background:var(--nav);border-bottom:1px solid rgba(255,255,255,.08)}
  .nav{width:min(1080px,94%);margin:0 auto;padding:10px 0;display:flex;gap:16px;align-items:center;justify-content:space-between}
  nav a{color:#fff;text-decoration:none;padding:8px 10px;border-radius:10px;border:1px solid transparent}
  nav a:hover{background:rgba(255,255,255,.08)}
  nav a[aria-current="page"]{border-color:rgba(255,255,255,.18);background:rgba(255,255,255,.10)}
  .wrap{width:min(1080px,92%);margin:0 auto;padding:24px 0 64px}
  .card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);backdrop-filter:blur(1.5px);padding:16px}
  .btn{border:1px solid var(--line);background:rgba(255,255,255,.10);color:#fff;padding:10px 14px;border-radius:12px;text-decoration:none;display:inline-block}
  .btn:hover{background:rgba(255,255,255,.16)}
  input[type=text]{width:100%;padding:10px;border-radius:12px;border:1px solid var(--line);background:rgba(255,255,255,.08);color:#fff}
</style>
</head>
<body>
<header>
  <div class="nav">
    <a class="brand" href="/">Virtual Coach AI</a>
    <nav>
      <a href="/">Home</a>
      <a href="/upload.html">Upload</a>
      <a href="/reports.html" aria-current="page">Reports</a>
      <a href="/coming-soon.html">Coming Soon</a>
      <a href="/pricing.html">Pricing</a>
      <a href="/faq.html">FAQ</a>
      <a href="/contact.html">Contact</a>
      <a href="/about.html">About</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <h1 style="margin:10px 0 14px">Open a report</h1>
  <section class="card" style="max-width:980px">
    <p style="color:#cfe0e6;margin:0 0 8px">
      Paste either a <b>full JSON URL</b> (from Vercel Blob) or a <b>report id</b> like <code>1760656286842-z1b9ky</code>.
    </p>
    <div style="display:flex;gap:10px;align-items:center">
      <input id="input" type="text" placeholder="https://… or 1760…-abc123" />
      <button id="open" class="btn">Open</button>
      <button id="sample" class="btn">Create sample report</button>
    </div>
  </section>
</main>

<script>
  const $ = s => document.querySelector(s);
  $('#open').onclick = () => {
    const v = $('#input').value.trim();
    if (!v) return;
    if (/^https?:\/\//i.test(v)) {
      location.assign('/report.html?url=' + encodeURIComponent(v));
    } else {
      location.assign('/report.html?id=' + encodeURIComponent(v));
    }
  };
  $('#sample').onclick = async () => {
    const r = await fetch('/api/save-report', {
      method:'POST',
      headers:{'content-type':'application/json'},
      body:JSON.stringify({
        status:'ready', swingScore:80, muxPlaybackId:null, muxUploadId:'sample',
        p1p9:[], faults:[], note:'sample via Reports page', meta:{}
      })
    });
    const j = await r.json().catch(()=>({}));
    if (j?.url) location.assign('/report.html?url=' + encodeURIComponent(j.url));
    else if (j?.id) location.assign('/report.html?id=' + encodeURIComponent(j.id));
    else alert('Could not create sample report.');
  };
</script>
</body>
</html>
