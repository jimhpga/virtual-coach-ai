<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Virtual Coach AI — Swing Report</title>
  <link rel="stylesheet" href="report.css">
</head>
<body data-report-src="/reports/demo/report.json">
  <div class="bg" aria-hidden="true"></div>

  <!-- Busy indicator -->
  <div id="busy" class="busy" hidden>
    <span class="spinner" aria-hidden="true"></span><span id="busyText">Processing…</span>
  </div>

  <div class="wrap">
    <header>
      <div>
        <div class="title">Swing Report — P1–P9</div>
        <div class="sub">Date: <span id="date"></span> • Mode: <span id="modeLabel">Full Swing</span></div>
      </div>
      <div class="toolbar">
        <label class="badge">Swings: <span id="swingCount">1</span></label>
        <select id="discipline" class="select" title="Shot type">
          <option value="full-swing" selected>Full Swing</option>
          <option value="chipping">Chipping</option>
          <option value="putting">Putting</option>
        </select>
        <select id="focus" class="select" title="Focus filter">
          <option value="all" selected>Focus: All</option>
          <optgroup label="Upper Body">
            <option value="right-wrist">Right Wrist</option>
            <option value="left-wrist">Left Wrist</option>
            <option value="arm-bend">Arm Bend</option>
            <option value="hand-path">Hand Path</option>
            <option value="shoulder-turn">Shoulder Turn</option>
          </optgroup>
          <optgroup label="Lower Body">
            <option value="hip-movement">Hip Movement</option>
            <option value="knee-movement">Knee Movement</option>
            <option value="foot-movement">Foot / Pressure</option>
            <option value="lead-leg-brake">Lead Leg Braking</option>
          </optgroup>
          <optgroup label="Club">
            <option value="club-path">Club Path</option>
            <option value="face-angle">Club Face Angle</option>
            <option value="tempo">Timing & Tempo</option>
          </optgroup>
        </select>
        <button id="expandAll" class="btn" type="button">Expand All</button>
        <button id="collapseAll" class="btn" type="button">Collapse All</button>
        <button id="reload" class="btn" type="button">Reload Report</button>
        <button id="sample" class="btn" type="button">Load Sample</button>
        <button id="hideOverlay" class="btn" type="button">Hide Overlay</button>
      </div>
    </header>

    <div id="status" class="sub"></div>
    <div id="error" class="sub" style="color:#ff9a9a"></div>

    <details id="debug" class="sub" style="margin-top:6px">
      <summary>Debug</summary>
      <pre id="debugOut" class="dbgbox"></pre>
    </details>

    <section class="grid">
      <div class="card">
        <h3>Swing Consistency</h3>
        <div id="swing" class="content"></div>
      </div>
      <div class="card">
        <h3>Position Consistency</h3>
        <div id="position" class="content"></div>
      </div>
    </section>

    <section class="card mt">
      <h3>Power Score Summary</h3>
      <div id="power" class="content"></div>
    </section>

    <section class="mt">
      <div class="sub">Click a P-section to expand. Use the Focus filter to dim everything except what you care about.</div>
      <div id="plist"></div>
    </section>

    <section class="card mt">
      <h3>Coaching Card</h3>
      <div class="content">
        <details class="panel" open>
          <summary><span class="pname">Top 3 Priority Fixes</span><svg class="caret" width="18" height="18" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg></summary>
          <div id="coachPriority"></div>
        </details>
        <details class="panel mt10">
          <summary><span class="pname">Top 3 Power Fixes</span><svg class="caret" width="18" height="18" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg></summary>
          <div id="coachPower"></div>
        </details>
      </div>
    </section>

    <section class="card mt">
      <h3>14-Day Practice Plan</h3>
      <div id="practice" class="content"></div>
    </section>
  </div>

  <!-- Overlays -->
  <div id="progressOverlay" class="overlay" hidden>
    <div class="overlay-card">
      <h2><span class="spinner mr8"></span>Analyzing your swing…</h2>
      <div class="sub" id="progressSub">Preparing</div>
      <div class="progress"><span id="progressFill"></span></div>
      <ul class="status-list" id="statusList"></ul>
      <div class="eta" id="eta"></div>
      <div class="eta" id="overlayMsg"></div>
      <div id="overlayActions" class="overlay-actions">
        <button id="overlayRetry" class="btn" type="button">Retry</button>
        <button id="overlayCancel" class="btn" type="button">Cancel</button>
      </div>
    </div>
  </div>

  <div id="videoOverlay" class="overlay" hidden>
    <div class="overlay-card">
      <div class="row">
        <h2 id="videoTitle">Swing Video</h2>
        <button id="videoClose" class="btn" type="button"
          onclick="(function(){try{const v=document.querySelector('#videoMount video'); if(v){v.pause()} }catch(e){}; document.getElementById('videoOverlay').hidden=true; document.getElementById('videoMount').innerHTML=''; })()">Close</button>
      </div>
      <div id="videoMount" class="content video-mount">No video</div>
    </div>
  </div>

  <script defer src="report.js"></script>
</body>
</html>
