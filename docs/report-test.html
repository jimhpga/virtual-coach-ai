<!doctype html><meta charset="utf-8"><title>Report Test</title>
<pre id="out">Running…</pre>
<script>
const out = m => (document.getElementById('out').textContent += "\n" + m);
(async()=>{
  try{
    out("Posting to /api/report …");
    const r = await fetch('/api/report', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ jobId:'smoke', status:'ready', data:{ t: Date.now() }})
    });
    out("report status: " + r.status);
    const jr = await r.text(); out("report body: " + jr);

    out("Fetching /api/analyze?jobId=smoke …");
    const a = await fetch('/api/analyze?jobId=smoke');
    out("analyze status: " + a.status);
    out("analyze body: " + await a.text());
  }catch(e){ out("Error: " + e.message); }
})();
</script>






