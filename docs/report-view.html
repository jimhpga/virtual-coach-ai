<!doctype html>
<html>
<head>
<meta http-equiv="Cache-Control" content="no-store, max-age=0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Virtual Coach AI — Report Viewer</title>
  <style>
    body{font-family:system-ui,Segoe UI,Arial,sans-serif;max-width:900px;margin:40px auto;padding:0 16px;line-height:1.5}
    pre{background:#111;color:#eee;padding:12px;border-radius:8px;overflow:auto}
    .muted{color:#666}
  </style>
</head>
<body>
  <h1>Report Viewer</h1>
  <p class="muted">Pass <code>?statusKey=...</code> in the URL. Example:
  <code>report-view.html?statusKey=status/1757313922-trigger-check.json</code></p>

  <pre id="output">Loading…</pre>

  <script>
    async function fetchReport() {
      const out = document.getElementById("output");
      try {
        const params = new URLSearchParams(window.location.search);
        const statusKey = params.get("statusKey");
        if (!statusKey) {
          out.textContent = "❌ No statusKey provided in the URL.";
          return;
        }
        const res = await fetch("/api/report", {
          method: "POST",
          headers: {"Content-Type":"application/json"},
          body: JSON.stringify({ key: statusKey })
        });
        const data = await res.json();
        out.textContent = JSON.stringify(data, null, 2);
      } catch (e) {
        out.textContent = "❌ " + (e?.message || String(e));
      }
    }
    fetchReport();
  </script>
<footer>© <span id="y"></span> Virtual Coach AI</footer>
<script id="vc-nav-js">
document.addEventListener('DOMContentLoaded', ()=>{
  const header=document.getElementById('site-header');
  const btn=document.getElementById('menuBtn');
  const nav=document.getElementById('siteNav');
  if(btn&&nav&&header){
    btn.addEventListener('click', ()=>{
      const open=header.classList.toggle('open');
      btn.setAttribute('aria-expanded', open?'true':'false');
    });
    nav.addEventListener('click', e=>{
      if(e.target&&e.target.tagName==='A'){ header.classList.remove('open'); btn.setAttribute('aria-expanded','false'); }
    });
  }
  const here=(location.pathname.split('/').pop()||'index.html').split('?')[0].toLowerCase();
  document.querySelectorAll('nav a').forEach(a=>{
    const h=(a.getAttribute('href')||'').split('?')[0].toLowerCase();
    if(h===here) a.setAttribute('aria-current','page');
  });
  const y=document.getElementById('y'); if(y) y.textContent=new Date().getFullYear();
});
</script>
</body>
</html>







.brand-logo{height:36px;width:auto;display:block}

