<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="robots" content="noindex, nofollow" />
<title>Login — Virtual Coach AI</title>
<link rel="preload" as="image" href="/homepage-background.png" />
<style>
  :root{ --nav:#0b2b12; --scrim:rgba(0,0,0,.05); --panel:rgba(0,0,0,.30); --line:rgba(255,255,255,.12);
         --text:#f2f7f9; --muted:#cfe0e6; --maxw:1100px; --radius:14px; --shadow:0 10px 24px rgba(0,0,0,.22); }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial;
       background:url('/homepage-background.png') center/cover fixed no-repeat;min-height:100dvh;}
  .scrim{min-height:100dvh;background:var(--scrim)}
  /* NAV (fallback loader below ensures it shows) */
  #navMount{position:sticky;top:0;z-index:20}
  main{width:min(var(--maxw),94%);margin:0 auto;padding:24px 0 40px}
  .center{display:grid;place-items:center;min-height:60vh}
  .card{width:min(520px,94vw);padding:20px 18px 16px;border:1px solid var(--line);border-radius:var(--radius);
        background:var(--panel);backdrop-filter:blur(2px);box-shadow:var(--shadow);text-align:center}
  h1{margin:6px 0 8px;font-size:22px} p.lead{margin:0 0 12px;color:var(--muted)}
  .field{display:flex;gap:8px;align-items:center;margin-top:6px}
  input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid var(--line);background:rgba(255,255,255,.10);color:#fff;font-size:16px}
  button{padding:12px 16px;border:none;border-radius:10px;background:rgba(0,255,153,.16);color:#fff;font-weight:700;cursor:pointer;min-width:110px;border:1px solid #0a7}
  button:hover{background:rgba(0,255,153,.22)}
  .row{display:grid;gap:8px;margin-top:8px}
  .err{color:#ffb4b4;min-height:18px;margin-top:10px;font-size:14px}
  .muted{margin-top:10px;font-size:12px;color:var(--muted);word-break:break-word}
  footer{width:min(var(--maxw),94%);margin:10px auto 26px;text-align:center;color:#cbd9de;font-size:12px}
</style>
</head>
<body>
  <div id="navMount"></div>

  <div class="scrim">
    <main>
      <div class="center">
        <div class="card">
          <h1>Access</h1>
          <p class="lead">Enter a code, or a username + code.</p>

          <div class="row">
            <input id="user" placeholder="Username (optional, e.g., Jim)" />
            <div class="field">
              <input id="code" placeholder="Access code (e.g., Jim1)" />
              <button id="go" type="button">Continue</button>
            </div>
          </div>

          <div id="err" class="err"></div>

          <div class="muted">Codes allowed: Jim1, Ben1, Tim1, Gregory1, Corey1, Brian1, Cindy1, test1, test2, test3</div>
        </div>
      </div>
    </main>

    <footer>© <span id="y"></span> Virtual Coach AI</footer>
  </div>

<script>
  // Year
  document.getElementById('y').textContent = new Date().getFullYear();

  // Nav loader with fallback
  (function(){
    const mount = document.getElementById('navMount');
    function markCurrent(){
      const here = location.pathname.replace(/\/+$/,'');
      mount.querySelectorAll('a[data-nav]').forEach(a=>{
        const u = new URL(a.getAttribute('href'), location.origin);
        if(u.pathname.replace(/\/+$/,'') === here){ a.setAttribute('aria-current','page'); }
      });
    }
    function fallback(){
      mount.innerHTML = `
<nav class="topbar" style="background:#0b2b12;border-bottom:1px solid rgba(255,255,255,.1);padding:10px 14px;display:flex;justify-content:space-between;align-items:center">
  <div class="brand"><a href="/index.html" style="color:#fff;text-decoration:none;font-weight:800">Virtual Coach AI</a></div>
  <div class="nav">
    <a href="/index.html" data-nav style="color:#fff;margin:0 8px;text-decoration:none;padding:8px 10px;border-radius:10px">Home</a>
    <a href="/report.html?report=/report.json" data-nav style="color:#fff;margin:0 8px;text-decoration:none;padding:8px 10px;border-radius:10px">Reports</a>
    <a href="/coming-soon.html" data-nav style="color:#fff;margin:0 8px;text-decoration:none;padding:8px 10px;border-radius:10px">Coming Soon</a>
    <a href="/pricing.html" data-nav style="color:#fff;margin:0 8px;text-decoration:none;padding:8px 10px;border-radius:10px">Pricing</a>
    <a href="/faq.html" data-nav style="color:#fff;margin:0 8px;text-decoration:none;padding:8px 10px;border-radius:10px">FAQ</a>
    <a href="/contact.html" data-nav style="color:#fff;margin:0 8px;text-decoration:none;padding:8px 10px;border-radius:10px">Contact</a>
    <a href="/login.html" data-nav style="color:#fff;margin:0 8px;text-decoration:none;padding:8px 10px;border-radius:10px" aria-current="page">Login</a>
  </div>
</nav>`;
      markCurrent();
    }
    fetch('/nav.html?v='+Date.now(), {cache:'no-store'})
      .then(r=>r.ok?r.text():Promise.reject(r)).then(h=>{mount.innerHTML=h;markCurrent();}).catch(fallback);
  })();

  // Allowed credentials
  const PASSCODES = new Set(['Jim1','Ben1','Tim1','Gregory1','Corey1','Brian1','Cindy1','test1','test2','test3']);
  const USER_CODES = { // optional mapping if you want username + code pairs
    'Jim':'Jim1','Ben':'Ben1','Tim':'Tim1','Gregory':'Gregory1','Corey':'Corey1','Brian':'Brian1','Cindy':'Cindy1'
  };

  function submit(){
    const user = (document.getElementById('user').value||'').trim();
    const code = (document.getElementById('code').value||'').trim();
    const err  = document.getElementById('err');

    let ok = false;
    if (user && USER_CODES[user] && USER_CODES[user] === code) ok = true;
    if (!user && PASSCODES.has(code)) ok = true;

    if (!ok){ err.textContent = 'Invalid code. Try Jim1, Ben1, test1, etc.'; return; }

    try { localStorage.setItem('vc_auth','ok'); if(user) localStorage.setItem('vc_user', user); } catch(e){}
    // Redirect: honor ?next=
    const next = new URLSearchParams(location.search).get('next') || '';
    const dest = next ? `/${next}.html` : '/index.html';
    location.href = dest;
  }

  document.getElementById('go').addEventListener('click', submit);
  document.getElementById('code').addEventListener('keydown', e=>{ if(e.key==='Enter') submit(); });
</script>
</body>
</html>
