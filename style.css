/* =======================================================================
   Virtual Coach AI - Global Styles (drop-in)
   - Unified background across all pages
   - iPad/iOS cutoff fix
   - Light utility system: layout, typography, buttons, cards, forms
   - Edit --bg-image and --bg-brightness to taste
   ======================================================================= */

:root{
  /* Theme */
  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --text-color: #111;
  --muted-text: #666;
  --bg: #fff;
  --card: rgba(255,255,255,0.9);
  --border: rgba(0,0,0,0.08);
  --primary: #0a7cff;
  --primary-contrast: #fff;

  /* Background image + brightness (edit these) */
  --bg-image: url("/virtualcoach-bg.png"); /* swap if needed */
  --bg-brightness: 0.85;

  /* Layout */
  --max-w: 1200px;
  --radius: 16px;
  --shadow: 0 6px 24px rgba(0,0,0,0.08);
  --shadow-strong: 0 10px 40px rgba(0,0,0,0.12);
}

/* Reset-ish */
* { box-sizing: border-box; }
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}
img, video { max-width: 100%; height: auto; display: block; }
a { color: inherit; text-decoration: none; }
button { font: inherit; cursor: pointer; }
input, select, textarea { font: inherit; }

/* ======================================================================= */
/* Global Background (iPad fix + uniform brightness)                       */
/* ======================================================================= */
body{
  color: var(--text-color);
  background: var(--bg) no-repeat center / cover;
  background-image: var(--bg-image);
  background-attachment: scroll;    /* iOS Safari cutoff bug fix */
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Make the background match About's look */
  filter: brightness(var(--bg-brightness));
  -webkit-filter: brightness(var(--bg-brightness));
}

/* Optional: if some page puts an overlay, keep it subtle */
.overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.06);      /* was likely too dark before */
  pointer-events: none;
}

/* Ensure content never hides behind iPad safe-area bars */
@supports (padding: max(0px)){
  body{ padding-bottom: env(safe-area-inset-bottom); }
}

/* Landscape iPad: force-fit to avoid bottom crop */
@media only screen and (min-device-width:768px) and (max-device-width:1024px) and (orientation:landscape){
  body{ background-size: 100% 100%; }
}

/* ======================================================================= */
/* Typography                                                              */
/* ======================================================================= */
body, input, button, select, textarea{
  font-family: var(--font-sans);
  line-height: 1.45;
}
h1,h2,h3{ line-height: 1.2; margin: 0 0 0.4em; }
h1{ font-size: clamp(1.9rem, 2.2vw + 1rem, 3rem); }
h2{ font-size: clamp(1.4rem, 1.2vw + 1rem, 2rem); }
h3{ font-size: clamp(1.15rem, 0.8vw + 1rem, 1.4rem); }
p{ margin: 0 0 1em; color: var(--text-color); }
.muted{ color: var(--muted-text); }

/* ======================================================================= */
/* Layout Helpers                                                          */
/* ======================================================================= */
.container{
  max-width: var(--max-w);
  margin: 0 auto;
  padding: 24px;
}
.stack{ display: grid; gap: 16px; }
.stack-lg{ display: grid; gap: 28px; }
.center{ display: grid; place-items: center; }
.grid{ display: grid; gap: 20px; }
.grid-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
.grid-3{ grid-template-columns: repeat(3, minmax(0,1fr)); }
@media (max-width: 900px){
  .grid-3{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .grid-2, .grid-3{ grid-template-columns: 1fr; }
}

/* Page wrappers (in case individual pages set their own background) */
.page-container, .about-page, .coming-soon-page{
  background: none;                  /* inherit body's background */
  filter: brightness(var(--bg-brightness));
  -webkit-filter: brightness(var(--bg-brightness));
}

/* ======================================================================= */
/* Header / Nav                                                            */
/* ======================================================================= */
.header{
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  background: rgba(255,255,255,0.6);
  border-bottom: 1px solid var(--border);
  position: sticky; top: 0; z-index: 100;
}
.nav{
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; padding: 12px 24px; max-width: var(--max-w); margin: 0 auto;
}
.logo{ display: inline-flex; align-items: center; gap: 10px; }
.logo img{ width: 42px; height: auto; }

/* ======================================================================= */
/* Cards                                                                   */
/* ======================================================================= */
.card{
  background: var(--card);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
}
.card-strong{ box-shadow: var(--shadow-strong); }

/* ======================================================================= */
/* Buttons                                                                 */
/* ======================================================================= */
.btn{
  display: inline-flex; align-items: center; justify-content: center;
  gap: 8px; padding: 12px 18px;
  border: 1px solid transparent;
  border-radius: 999px;
  background: #fff;
  color: var(--text-color);
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
  box-shadow: 0 2px 10px rgba(0,0,0,0.06);
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.10); }
.btn:active{ transform: translateY(0); }

.btn-primary{
  background: var(--primary);
  color: var(--primary-contrast);
  border-color: rgba(0,0,0,0.0);
}
.btn-primary:hover{ filter: brightness(0.95); }
.btn-block{ width: 100%; }

/* ======================================================================= */
/* Forms                                                                   */
/* ======================================================================= */
.input, input[type="text"], input[type="email"], input[type="file"], textarea, select{
  width: 100%;
  padding: 12px 14px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: rgba(255,255,255,0.95);
  outline: none;
  transition: box-shadow .2s ease, border-color .2s ease;
}
.input:focus, input:focus, textarea:focus, select:focus{
  border-color: rgba(10,124,255,0.35);
  box-shadow: 0 0 0 4px rgba(10,124,255,0.12);
}

.form-row{ display: grid; gap: 12px; }
@media (min-width: 700px){
  .form-row-2{ grid-template-columns: 1fr 1fr; }
  .form-row-3{ grid-template-columns: 1fr 1fr 1fr; }
}

/* Upload area helper */
.dropzone{
  border: 2px dashed var(--border);
  border-radius: var(--radius);
  padding: 24px;
  background: rgba(255,255,255,0.7);
  text-align: center;
}

/* ======================================================================= */
/* Tables (for reports)                                                    */
/* ======================================================================= */
.table{
  width: 100%; border-collapse: collapse; overflow: hidden;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: rgba(255,255,255,0.92);
}
.table th, .table td{
  padding: 12px 14px; border-bottom: 1px solid var(--border); text-align: left;
}
.table th{ background: rgba(0,0,0,0.03); font-weight: 600; }

/* ======================================================================= */
/* Footer                                                                  */
/* ======================================================================= */
.footer{
  margin-top: 48px; padding: 18px 24px;
  background: rgba(255,255,255,0.6);
  border-top: 1px solid var(--border);
  text-align: center;
}

/* ======================================================================= */
/* Utilities                                                               */
/* ======================================================================= */
.hide{ display: none !important; }
.center-text{ text-align: center; }
.mt-0{ margin-top: 0; } .mt-8{ margin-top: 8px; } .mt-16{ margin-top: 16px; } .mt-24{ margin-top: 24px; }
.mb-0{ margin-bottom: 0; } .mb-8{ margin-bottom: 8px; } .mb-16{ margin-bottom: 16px; } .mb-24{ margin-bottom: 24px; }
.p-0{ padding: 0; } .p-8{ padding: 8px; } .p-16{ padding: 16px; } .p-24{ padding: 24px; }
.round{ border-radius: var(--radius); }
.shadow{ box-shadow: var(--shadow); }
.blur{ backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); }

/* If any page forcibly sets its own background, neutralize it */
[class*="section"], [class*="hero"]{
  background-color: transparent !important;
  background-image: none !important;
}
