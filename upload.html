<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Upload — Virtual Coach AI</title>
  <link rel="preload" as="image" href="/homepage-background.png" />
  <style>
    :root{
      --nav: rgba(7,68,32,.96);
      --scrim: rgba(0,0,0,.05);
      --panel: rgba(0,0,0,.30);
      --line: rgba(255,255,255,.12);
      --text: #f2f7f9;
      --muted:#cfe0e6;
      --maxw: 980px; --radius: 14px; --shadow: 0 10px 24px rgba(0,0,0,.22);
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0;color:var(--text);
      font:16px/1.5 system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif;
      background:url('/homepage-background.png') center/cover fixed no-repeat;
    }
    header{position:sticky;top:0;z-index:20;background:var(--nav);border-bottom:1px solid rgba(255,255,255,.1)}
    .navwrap{width:min(var(--maxw),94%);margin:0 auto;padding:10px 0;display:flex;gap:16px;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px;color:#fff;text-decoration:none;font-weight:800}
    nav a{color:#fff;text-decoration:none;padding:8px 10px;border-radius:10px;border:1px solid transparent}
    nav a:hover{background:rgba(255,255,255,.08)}
    .scrim{min-height:100vh;background:var(--scrim)}
    main{width:min(var(--maxw),94%);margin:0 auto;padding:24px 0 40px}
    .card{padding:16px;border:1px solid var(--line);border-radius:var(--radius);background:var(--panel);backdrop-filter:blur(2px);box-shadow:var(--shadow)}
    .row{display:grid;gap:10px}
    .btn{border:1px solid var(--line);background:rgba(255,255,255,.12);color:#fff;padding:10px 14px;border-radius:12px;text-decoration:none;font-weight:600;cursor:pointer}
    .btn:hover{background:rgba(255,255,255,.18)}
    .muted{color:var(--muted)}
    input[type=text]{width:100%;padding:12px;border-radius:10px;border:1px solid var(--line);background:rgba(255,255,255,.10);color:#fff}
    .half{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    #msg{min-height:20px}
  </style>
</head>
<body>
  <header>
    <div class="navwrap">
      <a class="brand" href="/"><span>Virtual Coach AI</span></a>
      <nav aria-label="Primary">
        <a href="/index.html">Home</a>
        <a href="/report.html?report=/report.json">Reports</a>
        <a href="/coming-soon.html">Coming&nbsp;Soon</a>
        <a href="/pricing.html">Pricing</a>
        <a href="/faq.html">FAQ</a>
        <a href="/contact.html">Contact</a>
        <a href="/login.html">Login</a>
      </nav>
    </div>
  </header>

  <div class="scrim">
    <main>
      <section class="card">
        <h2>Build a Live Report (no upload)</h2>
        <p class="muted">Paste a public video link (YouTube or MP4/MOV). We’ll generate a report and open it immediately.</p>
        <div class="row">
          <label for="videoUrl">Video URL</label>
          <input id="videoUrl" type="text" placeholder="https://www.youtube.com/watch?v=...  or  https://.../swing.mp4" />
          <div class="half">
            <button class="btn" id="make">Create Report</button>
            <span id="msg" class="muted"></span>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
  const $ = s => document.querySelector(s);
  const esc = s => encodeURIComponent(s||'');

  function buildReport(videoUrl){
    const yt = q => `https://www.youtube.com/results?search_query=${esc(q)}`;
    const ref = videoUrl || yt('golf swing P1 P9');
    return {
      swings: 1,
      discipline: "full-swing",
      power: { score: 78, tempo: "3.0:1", release_timing: 62 },
      swing_metrics: [
        { label:"Right Arm Angle", value:84, tags:["arm-bend"] },
        { label:"Club Face Angle", value:79, tags:["face-angle"] },
        { label:"Shoulder Turn", value:72, tags:["shoulder-turn"] },
        { label:"Hip Turn", value:68, tags:["hip-movement"] },
        { label:"X-Factor (Shoulder-Hip)", value:64, tags:["sequence"] },
        { label:"Club Path", value:71, tags:["club-path"] },
        { label:"Face-to-Path", value:66, tags:["face-angle"] },
        { label:"Attack Angle", value:62, tags:["delivery"] }
      ],
      position_metrics: [
        { p:"P1", value:90 }, { p:"P2", value:74 }, { p:"P3", value:61 },
        { p:"P4", value:55 }, { p:"P5", value:63 }, { p:"P6", value:70 },
        { p:"P7", value:81 }, { p:"P8", value:86 }, { p:"P9", value:78 }
      ],
      phases: [
        { id:"P1", name:"Setup", grade:"good", short:"Athletic stance", long:"Neutral grip, soft knees, pelvis neutral. Pressure 55/45; spine tall; eyes level.", ref },
        { id:"P2", name:"Shaft Parallel (Backswing)", grade:"ok", short:"Width + neutral face", long:"Hands in front of chest; gradual wrist set; near toe-up face; pressure loads trail foot.", ref },
        { id:"P3", name:"Lead Arm Parallel (Backswing)", grade:"ok", short:"Maintain width", long:"Trail elbow folds in front of ribcage; club on plane; head steady.", ref },
        { id:"P4", name:"Top of Swing", grade:"bad", short:"Full coil", long:"Pressure into trail heel; trail hip deep; lead wrist nearer flat/bowed.", ref },
        { id:"P5", name:"Lead Arm Parallel (Downswing)", grade:"good", short:"Sequencing", long:"Pelvis → torso → arms. Shaft shallows; trail elbow in front of side seam.", ref },
        { id:"P6", name:"Shaft Parallel (Downswing)", grade:"good", short:"Deliver", long:"Hands slightly ahead; face in the window; pelvis keeps turning (no stall).", ref },
        { id:"P7", name:"Impact", grade:"ok", short:"Forward lean", long:"Forward shaft lean; low point forward. Pelvis 30–45° open; chest 10–20° open.", ref },
        { id:"P8", name:"Trail Arm Parallel (Follow-Through)", grade:"good", short:"Extension", long:"Trail arm extends; handle works around; control rate of closure.", ref },
        { id:"P9", name:"Finish", grade:"good", short:"Balanced", long:"Pressure fully lead side; belt buckle and chest to target; hold the pose.", ref }
      ],
      coaching:{
        priority_fixes:[
          { title:"Clubface control at P7 (impact)", short:"Match face to path", long:"Face drifting open from P6→P7 creates blocks/fades. Grip audit, then keep lead wrist flexed to P6; 8 half-swings to P8 keeping glove logo at target.", ref },
          { title:"Lower body sequence", short:"Clear hips before hands", long:"From P4 shift to lead heel and open pelvis while chest stays closed a beat. Step-through x10 slow + x10 normal. Cue: belt buckle at target by impact.", ref },
          { title:"Hand path width", short:"Keep width at P3", long:"Avoid collapsing width at P3. Pump-downs: P3 → mini P4 → P5 with trail elbow in front of seam. 3×10 rehearsals, then 3 balls each set.", ref }
        ],
        power_fixes:[
          { title:"Tempo 3:1", short:"Smooth rhythm", long:"Backswing ~3x downswing. Count 1-2-3 back, 1 through. 72 bpm; strike every 4th tick, 12 balls × 3.", ref },
          { title:"Lead-leg brake", short:"Post into lead side", long:"Plant lead heel from P4, straighten lead leg through P5–P6. Towel under heel; 10 rehearsals then 5 balls. Keep head behind ball.", ref },
          { title:"Late release timing", short:"Speed at P7–P8", long:"Hold angles to P6, unhinge through. Two-tee gate; clip both after impact. 2×5 and video last 2.", ref }
        ]
      },
      practice_plan:[
        { day:1, title:"Tempo + Sequence", minutes:18, balls:36, difficulty:3,
          desc:"Groove 3:1 rhythm and synced sequence. Three 6-min blocks; video 2 swings each block.",
          drills:["Metronome 72 bpm: 12 half-swings","Step-through x12","Full swings x12 (same cadence)"] },
        { day:2, title:"Contact + Face", minutes:20, balls:40, difficulty:3,
          desc:"Tighten start-line and strike consistency.",
          drills:["9-to-3 x 15 (clip P6→P8)","Two-tee gate x 15","Grip/face check x 10 slow reps"] }
      ]
    };
  }

  function toDataUrl(obj){
    const json = JSON.stringify(obj);
    const b64 = btoa(unescape(encodeURIComponent(json)));
    return `data:application/json;base64,${b64}`;
  }

  document.getElementById('make').addEventListener('click', ()=>{
    const url = (document.getElementById('videoUrl').value||'').trim();
    const report = buildReport(url);
    const dataUrl = toDataUrl(report);
    // Open in the report viewer (no server needed)
    location.href = `/report.html?report=${encodeURIComponent(dataUrl)}`;
  });
  </script>
</body>
</html>
